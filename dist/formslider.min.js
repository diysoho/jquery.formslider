(function(){var t,i,n=function(t,i){return function(){return t.apply(i,arguments)}},e=function(t,i){for(var n in i)s.call(i,n)&&(t[n]=i[n]);function e(){this.constructor=t}return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},s={}.hasOwnProperty,r=[].indexOf||function(t){for(var i=0,n=this.length;i<n;i++)if(i in this&&this[i]===t)return i;return-1},o=[].slice;this.DriverFlexslider=function(){function t(i,e,s,r,o){this.container=i,this.config=e,this.onBefore=s,this.onAfter=r,this.onReady=o,this.moveSlide=n(this.moveSlide,this),this.addSlide=n(this.addSlide,this),this.removeSlide=n(this.removeSlide,this),this._internOnAfter=n(this._internOnAfter,this),this.index=n(this.index,this),this.get=n(this.get,this),this.goto=n(this.goto,this),this.prev=n(this.prev,this),this.next=n(this.next,this),this.config=ObjectExtender.extend({},t.config,this.config),this.config.after=this._internOnAfter,this.config.conditionalBefore=this.onBefore,this.config.start=this.onReady,this.slides=$(this.config.selector,this.container),this.container.flexslider(this.config),this.instance=this.container.data("flexslider")}return t.config={selector:".formslider > .slide",animation:"slide",animationSpeed:200,smoothHeight:!0,useCSS:!0,directionNav:!1,controlNav:!1,slideshow:!1,keyboard:!1,animationLoop:!1},t.prototype.next=function(){return this.container.flexslider("next")},t.prototype.prev=function(){return this.container.flexslider("prev")},t.prototype.goto=function(t){return this.container.flexslider(t,!0)},t.prototype.get=function(t){return void 0===t&&(t=this.index()),this.slides.get(t)},t.prototype.index=function(){return this.instance.currentSlide},t.prototype._internOnAfter=function(t){if(t.lastSlide!==t.currentSlide)return this.onAfter(t)},t.prototype.removeSlide=function(t){return this.instance.removeSlide(t)},t.prototype.addSlide=function(t,i){return this.instance.addSlide(t,i)},t.prototype.moveSlide=function(t,i){return this.instance.moveSlide(t,i)},t}(),this.AbstractFormsliderPlugin=function(){function t(t,e){this.formslider=t,this.slideByIndex=n(this.slideByIndex,this),this.slideById=n(this.slideById,this),this.slideByRole=n(this.slideByRole,this),this.track=n(this.track,this),this.trigger=n(this.trigger,this),this.isCanceled=n(this.isCanceled,this),this.cancel=n(this.cancel,this),this.off=n(this.off,this),this.on=n(this.on,this),this.configWithDataFrom=n(this.configWithDataFrom,this),this.config=ObjectExtender.extend({},this.constructor.config,e),this.container=this.formslider.container,this.slides=this.formslider.slides,this.events=this.formslider.events,this.logger=new i("jquery.formslider::"+this.constructor.name),this.init()}return t.prototype.init=function(){return null},t.prototype.configWithDataFrom=function(t){var i,n,e,s;n=ObjectExtender.extend({},this.config),i=$(t);for(s in n)n[s],void 0!==(e=i.data(s))&&(n[s]=e);return n},t.prototype.on=function(t,i){return this.events.on(t+"."+this.constructor.name,i)},t.prototype.off=function(t){return this.events.off(t+"."+this.constructor.name)},t.prototype.cancel=function(t){return this.events.cancel(t)},t.prototype.isCanceled=function(t){return this.events.isCanceled(t)},t.prototype.trigger=function(){var t;return(t=this.events).trigger.apply(t,arguments)},t.prototype.track=function(t,i,n){return null==n&&(n=null),this.events.trigger("track",t,i,n)},t.prototype.slideByRole=function(t){return $(".slide-role-"+t,this.container)},t.prototype.slideById=function(t){return $(".slide-id-"+t,this.container)},t.prototype.slideByIndex=function(t){return this.slides.get(t)},t}(),this.AnswerClickPlugin=function(t){function i(){return this.onAnswerClicked=n(this.onAnswerClicked,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.init=function(){return $(this.config.answerSelector,this.container).on("mouseup",this.onAnswerClicked)},i.prototype.onAnswerClicked=function(t){var i,n;return t.preventDefault(),n=(i=$(t.currentTarget)).closest(this.config.answersSelector),$(this.config.answerSelector,n).removeClass(this.config.answerSelectedClass),i.addClass(this.config.answerSelectedClass),this.trigger("question-answered",i,$("input",i).val(),this.formslider.index())},i}(AbstractFormsliderPlugin),this.FormSubmissionPlugin=function(t){function i(){return this.onFail=n(this.onFail,this),this.onDone=n(this.onDone,this),this.onSubmit=n(this.onSubmit,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={submitOnEvents:["validation.valid.contact"],successEventName:"form-submitted",errorEventName:"form-submission-error",loadHiddenFrameOnSuccess:null,formSelector:"form",submitter:{class:"FormSubmitterCollect",endpoint:"#",method:"POST"}},i.prototype.init=function(){var t,i,n,e,s;for(this.form=$(this.config.formSelector),n=0,e=(s=this.config.submitOnEvents).length;n<e;n++)i=s[n],this.on(i,this.onSubmit);return t=window[this.config.submitter.class],this.submitter=new t(this,this.config.submitter,this.form)},i.prototype.onSubmit=function(t,i){if(!this.isCanceled(t))return this.submitter.submit(t,i)},i.prototype.onDone=function(){return this.trigger(this.config.successEventName),this.loadHiddenFrameOnSuccess(),this.logger.debug("onDone")},i.prototype.onFail=function(){return this.logger.error("onFail",this.config.errorEventName),this.trigger(this.config.errorEventName)},i.prototype.loadHiddenFrameOnSuccess=function(t){if(null!=this.config.loadHiddenFrameOnSuccess)return $("<iframe>",{src:this.config.loadHiddenFrameOnSuccess,id:"formslider_conversion_frame",frameborder:0,scrolling:"no"}).css({width:0,height:0}).appendTo("body")},i}(AbstractFormsliderPlugin),this.FormSubmitterAbstract=function(){function t(t,i,e){this.plugin=t,this.config=i,this.form=e,this.supressNaturalFormSubmit=n(this.supressNaturalFormSubmit,this)}return t.prototype.supressNaturalFormSubmit=function(){return this.form.submit(function(t){return t.preventDefault(),!1})},t}(),this.FormSubmitterAjax=function(t){function i(t,e,s){this.plugin=t,this.config=e,this.form=s,this.submit=n(this.submit,this),i.__super__.constructor.call(this,this.plugin,this.config,this.form),this.supressNaturalFormSubmit()}return e(i,t),i.prototype.submit=function(t,i){return this.form.ajaxSubmit(this.config),this.form.data("jqxhr").done(this.plugin.onDone).fail(this.plugin.onFail)},i}(FormSubmitterAbstract),this.FormSubmitterCollect=function(t){function i(t,e,s){this.plugin=t,this.config=e,this.form=s,this.collectInputs=n(this.collectInputs,this),this.submit=n(this.submit,this),i.__super__.constructor.call(this,this.plugin,this.config,this.form),this.supressNaturalFormSubmit()}return e(i,t),i.prototype.submit=function(t,i){return $.ajax({cache:!1,url:this.config.endpoint,method:this.config.method,data:this.collectInputs()}).done(this.plugin.onDone).fail(this.plugin.onFail)},i.prototype.collectInputs=function(){var t,i,n,e,s,r,o,h,a,u,l;for(l={},r=0,h=(i=$("input",this.plugin.container)).length;r<h;r++)s=i[r],(t=$(s)).is(":checkbox")||t.is(":radio")?t.is(":checked")&&(l[t.attr("name")]=t.val()):l[t.attr("name")]=t.val();for(o=0,a=(e=$("select, textarea",this.plugin.container)).length;o<a;o++)u=e[o],l[(n=$(u)).attr("name")]=n.val();return l},i}(FormSubmitterAbstract),this.FormSubmitterSubmit=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.submit=function(t,i){},i}(FormSubmitterAbstract),this.InputFocusPlugin=function(t){function i(){return this.onAfter=n(this.onAfter,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:"input:visible",waitBeforeFocus:200,disableOnMobile:!0},i.prototype.init=function(){return this.on("after",this.onAfter)},i.prototype.onAfter=function(t,i,n,e){var s;if(!this.config.disableOnMobile||!FeatureDetector.isMobileDevice()){if((s=$(this.config.selector,i)).length)return setTimeout(function(){return s.first().focus()},this.config.waitBeforeFocus);r.call(document,"activeElement")>=0&&document.activeElement.blur()}},i}(AbstractFormsliderPlugin),this.InputSyncPlugin=function(t){function i(){return this.onAfter=n(this.onAfter,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:"input",attribute:"name"},i.prototype.init=function(){return this.storage={},this.on("after",this.onAfter)},i.prototype.onAfter=function(t,i,n,e){var s,r;return $(this.config.selector,e).each((s=this,function(t,i){var n;return n=$(i),s.storage[n.attr(s.config.attribute)]=n.val()})),$(this.config.selector,i).each((r=this,function(t,i){var n,e;if(e=(n=$(i)).attr(r.config.attribute),r.storage[e])return n.val(r.storage[e])}))},i}(AbstractFormsliderPlugin),this.JqueryValidatePlugin=function(t){function i(){return this.prepareInputs=n(this.prepareInputs,this),this.onValidate=n(this.onValidate,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:"input:visible",validateOnEvents:["leaving.next"],forceMaxLengthJs:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",messages:{required:"Required",maxlength:"To long",minlength:"To short",email:"Enter valid E-Mail"}},i.prototype.init=function(){var t,i,n,e;for(i=0,n=(e=this.config.validateOnEvents).length;i<n;i++)t=e[i],this.on(t,this.onValidate);return this.prepareInputs(),this.trigger("validation.prepared")},i.prototype.onValidate=function(t,i,n,e){var s,r;if((s=$(this.config.selector,i)).length)return r=$(i).data("role"),s.valid()?this.trigger("validation.valid."+r,i):(s.filter(".error").first().focus(),this.trigger("validation.invalid."+r,i),t.canceled=!0,!1)},i.prototype.prepareInputs=function(){return $(this.config.selector,this.container).each((t=this,function(i,n){var e,s,r,o,h;for((e=$(n)).attr("required")&&(e.data("data-rule-required","true"),e.data("data-msg-required",t.config.messages.required)),"number"===e.data("type")&&(e.attr("pattern","\\d*"),e.attr("inputmode","numeric")),e.data("without-spinner")&&e.addClass("without-spinner"),r=0,o=(h=["maxlength","minlength"]).length;r<o;r++)s=h[r],e.attr(s)&&(e.data("data-rule-"+s,e.attr(s)),e.data("data-msg-"+s,t.config.messages[s]));if(e.data("force-max-length")&&e.attr("oninput",t.config.forceMaxLengthJs),"email"===e.attr("type"))return e.data("data-msg-email",t.config.messages.email)}));var t},i}(AbstractFormsliderPlugin),this.NormalizeInputAttributesPlugin=function(t){function i(){return this.prepareInputs=n(this.prepareInputs,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:"input:visible"},i.prototype.init=function(){return this.prepareInputs()},i.prototype.prepareInputs=function(){return $(this.config.selector,this.container).each(function(t,i){var n,e,s,r,o,h;for((n=$(i)).attr("required")&&(n.data("required","required"),n.data("aria-required","true")),h=[],s=0,r=(o=["inputmode","autocompletetype"]).length;s<r;s++)e=o[s],n.attr(e)?h.push(n.data("x-"+e,n.attr(e))):h.push(void 0);return h})},i}(AbstractFormsliderPlugin),this.TabIndexSetterPlugin=function(t){function i(){return this.disableTabs=n(this.disableTabs,this),this.enableTabs=n(this.enableTabs,this),this.onAfter=n(this.onAfter,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:"input:visible, a, select, textarea, button"},i.prototype.init=function(){return this.disableTabs(),this.enableTabs(this.slideByIndex(0)),this.on("after",this.onAfter)},i.prototype.onAfter=function(t,i,n,e){return this.disableTabs(),this.enableTabs(i)},i.prototype.enableTabs=function(t){return $(this.config.selector,t).attr("tabindex",0)},i.prototype.disableTabs=function(){return $(this.config.selector,this.container).attr("tabindex","-1")},i}(AbstractFormsliderPlugin),this.AddSlideClassesPlugin=function(t){function i(){return this._addAnswerCountClasses=n(this._addAnswerCountClasses,this),this._doWithSlide=n(this._doWithSlide,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.init=function(){return this.slides.each(this._doWithSlide)},i.prototype._doWithSlide=function(t,i){var n;return n=$(i),this._addAnswerCountClasses(t,n),this._addSlideNumberClass(t,n),this._addRoleClass(n),this._addSlideIdClass(n)},i.prototype._addAnswerCountClasses=function(t,i){var n;return n=$(this.config.answerSelector,i).length,i.addClass("answer-count-"+n).data("answer-count",n)},i.prototype._addRoleClass=function(t){var i;return i=t.data("role"),t.addClass("slide-role-"+i)},i.prototype._addSlideNumberClass=function(t,i){return i.addClass("slide-number-"+t).data("slide-number",t)},i.prototype._addSlideIdClass=function(t){var i;return void 0===(i=t.data("id"))&&(i=t.data("role")),t.addClass("slide-id-"+i)},i}(AbstractFormsliderPlugin),this.DoOnEventPlugin=function(t){function i(){return this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.init=function(){return $.each(this.config,(t=this,function(i,n){if("function"==typeof n)return t.on(i,function(){return n(t)})}));var t},i}(AbstractFormsliderPlugin),this.DoOneTimeOnEventPlugin=function(t){function i(){return this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.init=function(){return $.each(this.config,(t=this,function(i,n){if("function"==typeof n)return t.on(i,function(){return t.off(i),n(t)})}));var t},i}(AbstractFormsliderPlugin),this.ArrowNavigationPlugin=function(t){function i(){return this.onKeyPressed=n(this.onKeyPressed,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:document,keyCodeLeft:37,keyCodeRight:39},i.prototype.init=function(){return $(this.config.selector).keydown(this.onKeyPressed)},i.prototype.onKeyPressed=function(t){switch(t.keyCode||t.which){case this.config.keyCodeLeft:return this.formslider.prev();case this.config.keyCodeRight:return this.formslider.next()}},i}(AbstractFormsliderPlugin),this.BrowserHistoryPlugin=function(t){function i(){return this.handleHistoryChange=n(this.handleHistoryChange,this),this.pushCurrentHistoryState=n(this.pushCurrentHistoryState,this),this.onAfter=n(this.onAfter,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={updateHash:!0},i.prototype.init=function(){return this.on("after",this.onAfter),this.dontUpdateHistoryNow=!1,this.pushCurrentHistoryState(),$(window).bind("popstate",this.handleHistoryChange)},i.prototype.onAfter=function(){if(!this.dontUpdateHistoryNow)return this.pushCurrentHistoryState();this.dontUpdateHistoryNow=!1},i.prototype.pushCurrentHistoryState=function(){var t;return t=null,this.config.updateHash&&(t="#"+this.formslider.index()),this.logger.debug("pushCurrentHistoryState",t),history.pushState({index:this.formslider.index()},"index "+this.formslider.index(),t)},i.prototype.handleHistoryChange=function(t){var i,n;if(null!=(null!=(n=t.originalEvent)?n.state:void 0))return i=t.originalEvent.state.index,this.logger.debug("handleHistoryChange",i),this.dontUpdateHistoryNow=!0,this.formslider.goto(i)},i}(AbstractFormsliderPlugin),this.DirectionPolicyPlugin=function(t){function i(){return this.cancelEvent=n(this.cancelEvent,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={cancelEventOn:[]},i.prototype.init=function(){return $.each(this.config.cancelEventOn,(t=this,function(i,n){return t.on(n,t.cancelEvent)}));var t},i.prototype.cancelEvent=function(t,i,n,e){return this.cancel(t)},i}(AbstractFormsliderPlugin),this.NextOnClickPlugin=function(t){function i(){return this.onClick=n(this.onClick,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:".next-button, .answer",waitAfterClick:10},i.prototype.init=function(){return $(this.config.selector,this.container).on("mouseup",this.onClick)},i.prototype.onClick=function(t){if(t.preventDefault(),!this.timeout)return this.timeout=setTimeout((i=this,function(){return i.formslider.next(),i.timeout=null}),this.config.waitAfterClick);var i},i}(AbstractFormsliderPlugin),this.NextOnKeyPlugin=function(t){function i(){return this.onKeyPressed=n(this.onKeyPressed,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:"input",keyCode:13},i.prototype.init=function(){return $(this.config.selector,this.container).keypress(this.onKeyPressed)},i.prototype.onKeyPressed=function(t){if((t.keyCode||t.which)===this.config.keyCode)return this.formslider.next()},i}(AbstractFormsliderPlugin),this.NextSlideResolverPlugin=function(t){function i(){return this.onResolve=n(this.onResolve,this),this.makeToNextSlide=n(this.makeToNextSlide,this),this.onQuestionAnswered=n(this.onQuestionAnswered,this),this.onReady=n(this.onReady,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.init=function(){return this.on("ready",this.onReady),this.on("before-driver-next",this.onResolve)},i.prototype.onReady=function(t){return this.slides.each((i=this,function(t,n){var e,s;if(e=$(n),(s=i.slides.get(t-1))&&void 0===$(s).data("next-id"))return $(s).data("next-id",e.data("id")).addClass("next-id-"+e.data("id"))}));var i},i.prototype.onQuestionAnswered=function(t,i,n,e){var s,r,o;return r=this.slideByIndex(e),s=i.data("next-id"),o=$(r).data("next-id"),void 0!==s&&(o=s),this.makeToNextSlide(o,e+1,r)},i.prototype.makeToNextSlide=function(t,i,n){var e;return e=this.slideById(t),this.formslider.driver.moveSlide(e,i),this.trigger("next-slide-changed",e)},i.prototype.onResolve=function(t){var i,n,e,s,r;if(i=this.formslider.driver.get(this.formslider.index()),n=$(i).data("next-id"),(r=$("."+this.config.answerSelectedClass,i)).length&&void 0!==(e=r.data("next-id"))&&(n=e),void 0!==n)return s=this.slideById(n),this.makeToNextSlide(n,$(i).index()+1,i),this.trigger("next-slide-changed",s)},i}(AbstractFormsliderPlugin),this.ProgressBarAdapterAbstract=function(){return function(t,i){this.plugin=t,this.config=i}}(),this.ProgressBarAdapterPercent=function(t){function i(){return this._setPercentStepCallback=n(this._setPercentStepCallback,this),this._setPercent=n(this._setPercent,this),this.set=n(this.set,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.set=function(t,i){return this._setPercent(i)},i.prototype._setPercent=function(t){var i;return i=parseInt(this.plugin.progressText.text())||13,$({Counter:i}).animate({Counter:t},{duration:this.config.animationSpeed,queue:!1,easing:"swing",step:this._setPercentStepCallback})},i.prototype._setPercentStepCallback=function(t){return this.plugin.progressText.text(Math.ceil(t)+"%")},i}(ProgressBarAdapterAbstract),this.ProgressBarAdapterSteps=function(t){function i(){return this._setSteps=n(this._setSteps,this),this.set=n(this.set,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.set=function(t,i){return this._setSteps(t+1)},i.prototype._setSteps=function(t){return this.plugin.progressText.text(t+"/"+this.plugin.countMax)},i}(ProgressBarAdapterAbstract),this.ProgressBarPlugin=function(t){function i(){return this.show=n(this.show,this),this.hide=n(this.hide,this),this.shouldBeVisible=n(this.shouldBeVisible,this),this.set=n(this.set,this),this.doUpdate=n(this.doUpdate,this),this.slidesThatCount=n(this.slidesThatCount,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selectorWrapper:".progressbar-wrapper",selectorText:".progress-text",selectorProgress:".progress",animationSpeed:300,adapter:"ProgressBarAdapterPercent",initialProgress:null,dontCountOnRoles:["loader","contact","confirmation"],hideOnRoles:["zipcode","loader","contact","confirmation"]},i.prototype.init=function(){return this.on("after",this.doUpdate),this.visible=!0,this.wrapper=$(this.config.selectorWrapper),this.config=this.configWithDataFrom(this.wrapper),this.progressText=$(this.config.selectorText,this.wrapper),this.bar=$(this.config.selectorProgress,this.wrapper),this.bar.css("transition-duration",this.config.animationSpeed/1e3+"s"),this.countMax=this.slidesThatCount(),this.adapter=new window[this.config.adapter](this,this.config),this.set(0)},i.prototype.slidesThatCount=function(){var t,i,n,e,s;for(s=0,t=0,i=(n=this.config.dontCountOnRoles).length;t<i;t++)e=n[t],s+=this.slideByRole(e).length;return this.slides.length-s},i.prototype.doUpdate=function(t,i,n,e){var s;return s=this.formslider.index(),this.shouldBeVisible(i)?(this.show(),this.set(s)):(this.set(s),this.hide())},i.prototype.set=function(t){var i;return t>this.countMax&&(t=this.countMax),t<0&&(t=0),i=(t+1)/this.countMax*100,this.config.initialProgress&&0===t&&(i=this.config.initialProgress),this.bar.css("width",i+"%"),this.adapter.set(t,i)},i.prototype.shouldBeVisible=function(t){var i;return i=$(t).data("role"),!(r.call(this.config.hideOnRoles,i)>=0)},i.prototype.hide=function(){if(this.visible)return this.wrapper.animate({opacity:0},this.config.animationSpeed),this.visible=!1},i.prototype.show=function(){if(!this.visible)return this.wrapper.animate({opacity:1},this.config.animationSpeed),this.visible=!0},i}(AbstractFormsliderPlugin),this.ConfirmationSlidePlugin=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={cancelEventOn:["leaving.confirmation"]},i}(DirectionPolicyPlugin),this.ContactSlidePlugin=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={cancelEventOn:["leaving.contact.prev"]},i}(DirectionPolicyPlugin),this.LoaderSlidePlugin=function(t){function i(){return this.isLoading=n(this.isLoading,this),this.onLeaving=n(this.onLeaving,this),this.onLoaderStart=n(this.onLoaderStart,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={loaderClass:"SimpleLoaderImplementation",duration:1e3},i.prototype.init=function(){return this.on("after.loader",this.onLoaderStart),this.on("leaving.loader",this.onLeaving)},i.prototype.onLoaderStart=function(t,i,n,e){var s;if(!this.isLoading())return s=window[this.config.loaderClass],this.loader=new s(this,this.config,i),this.loader.start()},i.prototype.onLeaving=function(t,i,n,e){if("prev"===n&&this.cancel(t),this.isLoading())return this.cancel(t)},i.prototype.isLoading=function(){var t;return null!=(t=this.loader)?t.animating:void 0},i}(AbstractFormsliderPlugin),this.AbstractFormsliderLoader=function(){function t(t,i,e){this.plugin=t,this.config=i,this.slide=e,this.stop=n(this.stop,this),this.doAnimation=n(this.doAnimation,this),this.start=n(this.start,this),this.config=ObjectExtender.extend({},this.constructor.config,this.config),this.animating=!1}return t.config={duration:2e3},t.prototype.start=function(){return!this.animating&&(this.plugin.logger.debug("start("+this.config.duration+")"),this.animating=!0,setTimeout(this.doAnimation,this.config.duration))},t.prototype.doAnimation=function(){return this.stop()},t.prototype.stop=function(){return this.plugin.logger.debug("stop()"),this.animating=!1,this.plugin.formslider.next()},t}(),this.SimpleLoaderImplementation=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i}(AbstractFormsliderLoader),this.TrackSessionInformationPlugin=function(t){function i(){return this.inform=n(this.inform,this),this.onFirstInteraction=n(this.onFirstInteraction,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={onReady:null,onReadyInternal:function(t){if(t.inform("url",location.href),t.inform("useragent",navigator.userAgent),t.inform("referer",document.referrer),t.inform("dimension",$(window).width()+"x"+$(window).height()),t.inform("jquery.formslider.version",t.formslider.config.version),t.formslider.plugins.isLoaded("JqueryTrackingPlugin"))return t.inform("channel",$.tracking.channel()),t.inform("campaign",$.tracking.campaign())}},i.prototype.init=function(){return this.on("first-interaction",this.onFirstInteraction)},i.prototype.onFirstInteraction=function(){if(this.config.onReadyInternal&&this.config.onReadyInternal(this),this.config.onReady)return this.config.onReady(this)},i.prototype.inform=function(t,i){return this.track(t,i,"info"),this.container.append($("<input>",{type:"hidden",name:"info["+t+"]",value:i}))},i}(AbstractFormsliderPlugin),this.TrackUserInteractionPlugin=function(t){function i(){return this.setupQuestionAnswerTracking=n(this.setupQuestionAnswerTracking,this),this.setupTransportTracking=n(this.setupTransportTracking,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={questionAnsweredEvent:"question-answered"},i.prototype.init=function(){return this.setupQuestionAnswerTracking(),this.setupTransportTracking()},i.prototype.setupTransportTracking=function(){return this.on("after",(t=this,function(i,n,e,s){var r,o;return r=t.formslider.index(),o=$(n).data("role"),t.track("slide-"+r+"-entered",e),t.track("slide-role-"+o+"-entered")}));var t},i.prototype.setupQuestionAnswerTracking=function(){return this.on("question-answered",(t=this,function(i,n,e,s){var r;return r=t.config.questionAnsweredEvent,t.track(r,s),t.track(r+"-"+s,e)}));var t},i}(AbstractFormsliderPlugin),this.EqualHeightPlugin=function(t){function i(){return this.doEqualize=n(this.doEqualize,this),this.equalizeAll=n(this.equalizeAll,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:".answer .text"},i.prototype.init=function(){return this.on("ready",this.equalizeAll),this.on("resize",this.equalizeAll),this.on("do-equal-height",this.doEqualize)},i.prototype.equalizeAll=function(){var t,i,n,e;for(e=[],t=i=0,n=this.slides.length-1;0<=n?i<=n:i>=n;t=0<=n?++i:--i)e.push(this.doEqualize(null,this.slideByIndex(t)));return e},i.prototype.doEqualize=function(t,i){var n,e,s,r,o,h;if((e=$(this.config.selector,i)).length){for(h=0,r=0,o=e.length;r<o;r++)s=e[r],(n=$(s)).css("height","auto"),h=Math.max(h,n.outerHeight());return e.css("height",h)}},i}(AbstractFormsliderPlugin),this.LazyLoadPlugin=function(t){function i(){return this._loadLazyCallback=n(this._loadLazyCallback,this),this.doLazyLoad=n(this.doLazyLoad,this),this.onAfter=n(this.onAfter,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={lazyClass:"lazy-load",dataKey:"src"},i.prototype.init=function(){return this.doLazyLoad(this.slideByIndex(0)),this.doLazyLoad(this.slideByIndex(1)),this.on("after",this.onAfter)},i.prototype.onAfter=function(){var t;return t=this.formslider.index(),this.doLazyLoad(this.slideByIndex(t+1))},i.prototype.doLazyLoad=function(t){return $("img."+this.config.lazyClass,t).each(this._loadLazyCallback)},i.prototype._loadLazyCallback=function(t,i){var n;return(n=$(i)).attr("src",n.data(this.config.dataKey)).removeData(this.config.dataKey).removeClass(this.config.lazyClass)},i}(AbstractFormsliderPlugin),this.LoadingStatePlugin=function(t){function i(){return this.onReady=n(this.onReady,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:".progressbar-wrapper, .formslider-wrapper",loadingClass:"loading",loadedClass:"loaded"},i.prototype.init=function(){return this.on("ready",this.onReady)},i.prototype.onReady=function(){return $(this.config.selector).removeClass(this.config.loadingClass).addClass(this.config.loadedClass)},i}(AbstractFormsliderPlugin),this.ScrollUpPlugin=function(t){function i(){return this.isOnScreen=n(this.isOnScreen,this),this.onAfter=n(this.onAfter,this),this.init=n(this.init,this),i.__super__.constructor.apply(this,arguments)}return e(i,t),i.config={selector:".headline",duration:200,tolerance:80,scrollUpOffset:30},i.prototype.init=function(){return this.on("after",this.onAfter),this.window=$(window)},i.prototype.onAfter=function(t,i,n,e){var s;if((s=$(this.config.selector,i)).length){if(!this.isOnScreen(s))return $("html, body").animate({scrollTop:Math.max(0,s.offset().top-this.config.scrollUpOffset)},this.config.duration)}else this.logger.warn("no element found for selector "+this.config.selector)},i.prototype.isOnScreen=function(t){var i,n;return(n={top:this.window.scrollTop(),left:this.window.scrollLeft()}).right=n.left+this.window.width(),n.bottom=n.top+this.window.height(),(i=t.offset()).right=i.left+t.outerWidth(),i.bottom=i.top+t.outerHeight(),!(n.right<i.left||n.left>i.right||n.bottom<i.top-this.config.tolerance||n.top>i.bottom-this.config.tolerance)},i}(AbstractFormsliderPlugin),t=function(){function t(t){this.logger=t,this.off=n(this.off,this),this.on=n(this.on,this),this.trigger=n(this.trigger,this),this.listener={}}return t.prototype.trigger=function(){var t,i,n,e,s,r,h,a;if(r=(a=(r=(t=o.call(arguments)).shift()).split(".")).shift(),null!=this.listener[r]){for(i={type:r,tags:a,canceled:!1},n=0,e=(h=this.listener[r]).length;n<e;n++)(s=h[n]).tags&&!this.allTagsInArray(s.tags,a)||s.callback.apply(s,[i].concat(o.call(t)));return i}},t.prototype.on=function(t,i){var n,e,s;return t=(s=t.split(".")).shift(),e=s.pop(),null==(n=this.listener)[t]&&(n[t]=[]),this.listener[t].push({name:t,tags:s,context:e,callback:i})},t.prototype.off=function(t){var i,n,e;if(t=(n=t.split(".")).shift(),i=n.pop(),null!=this.listener[t])return this.listener[t]=this.listener[t].filter((e=this,function(t){return t.context!==i||!e.allTagsInArray(n,t.tags)&&void 0}))},t.prototype.allTagsInArray=function(t,i){var n,e,s;for(n=0,e=t.length;n<e;n++)if(s=t[n],!(r.call(i,s)>=0))return!1;return!0},t.prototype.isCanceled=function(t){return!0===t.canceled},t.prototype.cancel=function(t){return t.canceled=!0,!1},t}(),this.FeatureDetector=function(){function t(){}return t.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t}(),this.Locking=function(){function t(t){null==t&&(t=!0),this.unlock=n(this.unlock,this),this.lock=n(this.lock,this),this.locked=t}return t.prototype.lock=function(){return this.locked=!0},t.prototype.unlock=function(){return this.locked=!1},t}(),i=function(){function t(t){this.namespace=t,this.error=n(this.error,this),this.warn=n(this.warn,this),this.debug=n(this.debug,this),this.info=n(this.info,this),$.debug||"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("jquery.debug not loaded")}return t.prototype.info=function(){var t;return arguments[0]=this.namespace+"::"+arguments[0],(t=$.debug).info.apply(t,arguments)},t.prototype.debug=function(){var t;return arguments[0]=this.namespace+"::"+arguments[0],(t=$.debug).debug.apply(t,arguments)},t.prototype.warn=function(){var t;return arguments[0]=this.namespace+"::"+arguments[0],$.debug.isEnabled()?(t=$.debug).warn.apply(t,arguments):"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn?console.warn.apply(console,arguments):void 0},t.prototype.error=function(){var t;return arguments[0]=this.namespace+"::"+arguments[0],$.debug.isEnabled()?(t=$.debug).error.apply(t,arguments):"undefined"!=typeof console&&null!==console&&"function"==typeof console.error?console.error.apply(console,arguments):void 0},t}(),this.ObjectExtender=function(){function t(){}return t.extend=function(i){return Array.prototype.slice.call(arguments,1).forEach(function(n){var e,s,r,o;if(n){o=[];for(e in n)(null!=(s=n[e])?s.constructor:void 0)===Object?i[e]&&(null!=(r=i[e])?r.constructor:void 0)!==Object?o.push(i[e]=n[e]):(i[e]=i[e]||{},o.push(t.extend(i[e],n[e]))):o.push(i[e]=n[e]);return o}}),i},t}(),this.PluginLoader=function(){function t(t,i){this.formslider=t,this.globalPluginConfig=i,this.get=n(this.get,this),this.isLoaded=n(this.isLoaded,this),this.load=n(this.load,this),this.loadAll=n(this.loadAll,this),this.loaded={}}return t.prototype.loadAll=function(t){var i,n,e,s;for(s=[],i=0,n=t.length;i<n;i++)e=t[i],window[e.class]?s.push(this.load(e)):this.formslider.logger.warn("loadAll("+e.class+") -> not found");return s},t.prototype.load=function(t){var i,n,e,s;i=window[t.class],n=null==t.config?this.globalPluginConfig:ObjectExtender.extend({},this.globalPluginConfig,t.config),this.formslider.logger.info("loadPlugin("+t.class+")");try{return s=new i(this.formslider,n),this.loaded[t.class]=s,s}catch(i){return e=i,this.formslider.logger.error("loadPlugin("+t.class+") -> error",e)}},t.prototype.isLoaded=function(t){return t in this.loaded},t.prototype.get=function(t){if(this.isLoaded(t))return this.loaded[t]},t}(),this.FormSlider=function(){function e(e,s){this.container=e,this.goto=n(this.goto,this),this.prev=n(this.prev,this),this.next=n(this.next,this),this.id=n(this.id,this),this.index=n(this.index,this),this.onResize=n(this.onResize,this),this.onReady=n(this.onReady,this),this.onAfter=n(this.onAfter,this),this.onBefore=n(this.onBefore,this),this.loadPlugins=n(this.loadPlugins,this),this.setupDriver=n(this.setupDriver,this),this.setupConfig=n(this.setupConfig,this),this.setupConfig(s),this.firstInteraction=!1,this.logger=new i("jquery.formslider"),this.events=new t(this.logger),this.locking=new Locking(!0),this.setupDriver(),this.slides=this.driver.slides,this.loadPlugins(),$(window).resize(this.onResize)}return e.config=null,e.prototype.setupConfig=function(t){return null!=(null!=t?t.plugins:void 0)&&(e.config.plugins=[]),this.config=ObjectExtender.extend({},e.config,t)},e.prototype.setupDriver=function(){var t;return t=window[this.config.driver.class],this.driver=new t(this.container,this.config.driver,this.onBefore,this.onAfter,this.onReady)},e.prototype.loadPlugins=function(){return this.plugins=new PluginLoader(this,this.config.pluginsGlobalConfig),this.plugins.loadAll(this.config.plugins)},e.prototype.onBefore=function(t,i,n){var e,s,r,h,a,u,l;return!this.locking.locked&&(e=this.slides.get(t),s=$(e).data("role"),h=this.driver.get(n),a=$(h).data("role"),r=[e,i,h],(u=this.events).trigger.apply(u,["leaving."+s+"."+i].concat(o.call(r))).canceled?(this.locking.unlock(),!1):((l=this.events).trigger.apply(l,["before."+a+"."+i].concat(o.call(r))),this.lastId=this.id(),this.lastCurrent=e,this.lastNext=h,this.lastCurrentRole=a,this.lastDirection=i,!0))},e.prototype.onAfter=function(){var t,i,n;return t=[this.lastNext,this.lastDirection,this.lastCurrent],(i=this.events).trigger.apply(i,["after."+this.lastCurrentRole+"."+this.lastDirection].concat(o.call(t))),this.firstInteraction||(this.firstInteraction=!0,(n=this.events).trigger.apply(n,["first-interaction"].concat(o.call(t)))),this.locking.unlock()},e.prototype.onReady=function(){return this.events.trigger("ready"),this.locking.unlock()},e.prototype.onResize=function(){return this.events.trigger("resize")},e.prototype.index=function(){return this.driver.index()},e.prototype.id=function(){return $(this.driver.get()).data("id")},e.prototype.next=function(){if(!(this.locking.locked||(this.events.trigger("before-driver-next"),this.index()+1>this.driver.slides.length-1)))return this.driver.next()},e.prototype.prev=function(){if(!this.locking.locked)return this.index()>0?this.driver.prev():void 0},e.prototype.goto=function(t){if(!this.locking.locked&&!(t<0||t>this.slides.length-1))return this.driver.goto(t)},e}(),this.FormSlider.config={version:1,driver:{class:"DriverFlexslider",selector:".formslider > .slide"},pluginsGlobalConfig:{answersSelector:".answers",answerSelector:".answer",answerSelectedClass:"selected"},plugins:[{class:"AddSlideClassesPlugin"},{class:"AnswerClickPlugin"},{class:"InputFocusPlugin"},{class:"BrowserHistoryPlugin"},{class:"JqueryValidatePlugin"},{class:"NormalizeInputAttributesPlugin"},{class:"InputSyncPlugin"},{class:"NextOnKeyPlugin"},{class:"ArrowNavigationPlugin"},{class:"TabIndexSetterPlugin"},{class:"NextOnClickPlugin"},{class:"LoadingStatePlugin"},{class:"ProgressBarPlugin"},{class:"TrackUserInteractionPlugin"},{class:"LoaderSlidePlugin"},{class:"ContactSlidePlugin"},{class:"ConfirmationSlidePlugin"},{class:"EqualHeightPlugin"},{class:"ScrollUpPlugin"},{class:"LazyLoadPlugin"}]}}).call(this);
//# sourceMappingURL=maps/formslider.min.js.map
